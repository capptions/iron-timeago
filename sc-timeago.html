<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE
The complete set of authors may be found at http://polymer.github.io/AUTHORS
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS
-->

<link rel="import" href="../polymer/polymer.html" />
<script type="text/javascript" src="moment.min.js"></script>

<dom-module id="sc-timeago"><template>{{timeago}}</template></dom-module>

<script>
	( function () {
		Polymer({
			is: 'sc-timeago',
			properties: {
			  /**
				* This is where moment stores the human readable time
				* Set by JS
				*
				* @attribute timeago
				* @type string
				* @default ''
				*/
				timeago: {
					type: String,
					value: '',
					notify: true
				},
				/**
				* This is the user input for the from date (YYYY-MM-DD)
				* Set by user
				*
				* @attribute datetime
				* @type string
				* @default ''
				*/
				datetime: {
					type: String,
					value: ''
				},
				/**
				* This is how often they want the time to update (it's 1 minute as default)
				* Set by user (not crucial)
				*
				* @attribute timeout
				* @type number
				* @default '60000' (60 seconds)
				*/
				timeout: {
					type: Number,
					value: 60000
				}
			},
			
			ready: function () {
				var self = this;
				ready: function () {
				var self = this;
				var timeUpdate = function() {
					self.timeago = moment(self.datetime).fromNow();
					setTimeout(function() {
						timeUpdate();
					},this.timeout);
				};	
				timeUpdate();
			}
		});
	})();
</script>
